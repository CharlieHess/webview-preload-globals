<html>

<body>
  <webview
    id="webview"
    preload="preload.js"
    src="https://slack.com/signin"
    style="width: 100%; height: 100%"
  />
</body>

<script>
  const { ipcMain } = require('electron');
  const webview = document.querySelector('webview');

  webview.addEventListener('dom-ready', () => {
    webview.openDevTools();
    webview.executeJavaScript('window.injectedGlobal.spellchecker.attachToInput()');
  });

  webview.addEventListener('load-commit', (e) => {
    if (e.isMainFrame) console.log(`${e.url} load-commit`);
  });

  webview.addEventListener('did-get-redirect-request', (e) => {
    if (e.isMainFrame) console.log(`redirect-request to ${e.newURL}`);
  });

  webview.addEventListener('console-message', (e) => {
    console.log(e.message);
  });
</script>

</html>